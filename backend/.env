# JAMA VA Abstractor Backend Environment Variables

# OpenAI API Configuration
OPENAI_API_KEY=mock

# Server Configuration
HOST=0.0.0.0
PORT=8000
DEBUG=True

# Selenium Configuration (optional - will use Chrome locally if not set)
SELENIUM_HUB_URL=http://localhost:4444/wd/hub

# File Upload Configuration
MAX_FILE_SIZE=10485760  # 10MB in bytes
UPLOAD_DIR=uploads

# Output Configuration
OUTPUT_DIR=output

# Logging Configuration
LOG_LEVEL=INFO

# VITE API Base URL
VITE_API_BASE_URL=http://localhost:8000

import os
from dotenv import load_dotenv

# Load environment variables at the very beginning
load_dotenv()

# ... rest of your imports ...
from fastapi import FastAPI, UploadFile, File, HTTPException, BackgroundTasks
from fastapi.middleware.cors import CORSMiddleware
from fastapi.responses import StreamingResponse, FileResponse
import uuid
import asyncio
from typing import Dict, Any
import json
from datetime import datetime

# ... your existing app code ...

if __name__ == "__main__":
    import uvicorn
    from dotenv import load_dotenv
    
    # Load environment variables
    load_dotenv()
    
    # Get port from environment
    port = int(os.getenv("PORT", 8000))
    host = os.getenv("HOST", "0.0.0.0")
    
    print(f"Starting server on {host}:{port}")
    uvicorn.run(app, host=host, port=port)